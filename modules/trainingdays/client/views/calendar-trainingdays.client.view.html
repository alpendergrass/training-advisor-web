<section ng-controller="TrainingDaysController" ng-init="calendar()">
  <div class="page-header">
    <h2>
      My Training Days
    </h2>
  </div>
  <div class="alert alert-warning text-center" ng-hide="hasStart && hasEnd">
    <span ng-hide="hasStart">To get started you need to create a <a ui-sref="trainingDays.createStart">Start Day</a>.</span>
    <span ng-hide="hasEnd"> You must specify at least one <a ui-sref="trainingDays.createEvent({'eventPriority': '1'})">Goal Event</a> for the current season to generate a training plan.</span>
  </div>
  <div>
    <div class="pull-left">
      <md-button ng-show="hasStart" ui-sref="trainingDays.getAdvice()">Get Advice</md-button>
    </div>
    <div class="pull-left">
      <md-button ng-show="hasStart && hasEnd && needsPlanGen" ng-click="genPlan()">Generate Plan</md-button>
    </div>
    <div class="pull-right">
      <md-button ng-hide="smallWindow" ng-click="setDirection('horizontal')">Calendar</md-button>
      <md-button ng-hide="smallWindow" ng-click="setDirection('vertical')">List</md-button>
    </div>
  </div>
  <div us-spinner="{radius:50, width:8, length: 16}" spinner-key="tdSpinner" style="position: relative"></div>
  <div ng-show="error" class="text-danger">
    <strong ng-bind="error"></strong>
  </div>
  <div class="td-calendar bottom-buffer">
    <calendar-md id="tdcalendar" flex layout layout-fill calendar-direction="direction" on-prev-month="prevMonth" on-next-month="nextMonth" on-day-click="dayClick" title-format="'MMMM y'" ng-model='selectedDate' day-format="dayFormat" day-label-format="'EEE'" day-label-tooltip-format="'EEEE'" day-tooltip-format="'fullDate'" week-starts-on="1" tooltips="false" day-content="" disable-future-selection="false"></calendar-md>
  </div>
</section>
